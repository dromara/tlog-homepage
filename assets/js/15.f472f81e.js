(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{475:function(o,e,t){"use strict";t.r(e);var l=t(8),a=Object(l.a)({},(function(){var o=this,e=o._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[e("p",[o._v("只需要这一步，就可以把springboot项目快速接入了")]),o._v(" "),e("p",[o._v("这里以dubbo+log4j为例，Consumer端代码")]),o._v(" "),e("p",[e("img",{attrs:{src:"/img/log_result_1.png",alt:"1"}})]),o._v(" "),e("p",[o._v("日志打印：")]),o._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[o._v("2020-09-16 18:12:56,748 [WARN] [TLOG]重新生成traceId[7161457983341056]  >> com.yomahub.tlog.web.TLogWebInterceptor:39\n2020-09-16 18:12:56,763 [INFO] <0><7161457983341056> logback-dubbox-consumer:invoke method sayHello,name=jack  >> com.yomahub.tlog.example.dubbox.controller.DemoController:22\n2020-09-16 18:12:56,763 [INFO] <0><7161457983341056> 测试日志aaaa  >> com.yomahub.tlog.example.dubbox.controller.DemoController:23\n2020-09-16 18:12:56,763 [INFO] <0><7161457983341056> 测试日志bbbb  >> com.yomahub.tlog.example.dubbox.controller.DemoController:24\n")])])]),e("p",[o._v("Provider代码：")]),o._v(" "),e("p",[e("img",{attrs:{src:"/img/log_result_2.png",alt:"2"}})]),o._v(" "),e("p",[o._v("日志打印：")]),o._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[o._v("2020-09-16 18:12:56,854 [INFO] <0.1><7161457983341056> logback-dubbox-provider:invoke method sayHello,name=jack  >> com.yomahub.tlog.example.dubbo.service.impl.DemoServiceImpl:15\n2020-09-16 18:12:56,854 [INFO] <0.1><7161457983341056> 测试日志cccc  >> com.yomahub.tlog.example.dubbo.service.impl.DemoServiceImpl:16\n2020-09-16 18:12:56,854 [INFO] <0.1><7161457983341056> 测试日志dddd  >> com.yomahub.tlog.example.dubbo.service.impl.DemoServiceImpl:17\n")])])]),e("p",[o._v("可以看到，经过简单接入后，各个微服务之间每个请求有一个全局唯一的traceId贯穿其中，对所有的日志输出都能生效，这下定位某个请求的日志链就变得轻松了。")]),o._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[o._v("提示")]),o._v(" "),e("p",[o._v("其中traceId前面的0，0.1是spanId，关于spanId的说明请参阅"),e("code",[o._v("九.SpanId的生成规则")]),o._v("。")])])])}),[],!1,null,null,null);e.default=a.exports}}]);